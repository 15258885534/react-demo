## React事件系统

### 简介

原生DOM事件体系存在很多问题，譬如各浏览器之间存在差异、容易引起内存浪费、性能低下、JS操作DOM效率低等。为了解决这些问题，React实现了一套比较高效的事件合成系统，包括事件注册、存储、分发、重用等功能。
与原生DOM事件体系相比，React事件合成系统有如下特点：
事件委托技术
事件冒泡机制
合成事件
事件池

#### 事件委托技术
在React组件上声明的事件最终都转化为原生事件并绑定到document上，而不是React组件对应的DOM节点。所以只有document节点绑定了原生事件。这样简化了事件体系，减少了内存开销。

#### 事件冒泡机制
原生DOM事件体系“DOM2级事件”规定的事件流包括三个阶段: 事件捕获阶段、处于目标阶段和事件冒泡阶段。而React自身实现了一套事件冒泡机制，以队列的方式，从触发事件的组件向父组件回溯，调用在组件上绑定的 事件处理函数。

#### 合成事件
React在原生event基础上做了一层跨浏览器的封装 -- SyntheticEvent(合成事件)，SyntheticEvent与原生event拥有相同的接口，包括stopPropagation()和preventDefault()。我们在组件上定义的事件处理函数将会被传入SyntheticEvent的实例。我们可以通过nativeEvent属性来访问原生的浏览器event对象。

#### 事件池
React使用对象池来管理合成事件对象的创建和销毁，这样减少了垃圾的生成和新对象内存的分配，大大提高了性能。